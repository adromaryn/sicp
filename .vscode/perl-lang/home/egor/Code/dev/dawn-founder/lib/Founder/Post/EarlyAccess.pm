[{"line":0,"name":"Founder::Post::Comment","kind":2,"defintion":1},{"line":2,"name":"strict","containerName":"","kind":2},{"containerName":"","kind":2,"line":3,"name":"warnings"},{"kind":2,"containerName":"","line":4,"name":"utf8"},{"name":"XS","line":6,"kind":2,"containerName":"JSON"},{"containerName":"MR","kind":2,"line":7,"name":"Log"},{"containerName":"UUID","kind":2,"line":8,"name":"Tiny"},{"line":10,"name":"Type","containerName":"MR::ActiveRecordPg","kind":2},{"name":"ActiveRecordPg","line":11,"kind":2,"containerName":"MR"},{"containerName":"Founder","kind":2,"line":12,"name":"User"},{"line":13,"name":"Post","containerName":"Founder","kind":2},{"name":"Config","line":14,"containerName":"Founder","kind":2},{"kind":2,"containerName":"Founder","name":"Const","line":15},{"kind":2,"containerName":"Founder","line":16,"name":"MediaLink"},{"containerName":"Founder::MediaLink","kind":2,"name":"ContainerRole","line":17},{"kind":12,"line":19,"name":"with"},{"kind":12,"name":"db","line":21},{"line":21,"name":"Founder","containerName":"Config::db_pg","kind":12},{"name":"table","line":22,"kind":12},{"name":"$json","line":24,"defintion":"my","containerName":null,"kind":13},{"containerName":"XS","kind":12,"line":24,"name":"JSON"},{"kind":12,"containerName":"Founder::Post::Comment","name":"new","line":24},{"name":"has_field","line":26,"kind":12},{"kind":12,"line":26,"name":"id"},{"kind":12,"line":26,"name":"is"},{"line":26,"name":"isa","kind":12},{"kind":12,"line":26,"name":"primary_key"},{"kind":12,"name":"selector","line":26},{"line":26,"name":"default","kind":12},{"kind":12,"line":26,"name":"create_UUID_as_string"},{"kind":12,"line":26,"name":"UUID_V4"},{"kind":12,"name":"required","line":26},{"kind":12,"name":"has_field","line":27},{"kind":12,"line":27,"name":"user_id"},{"name":"is","line":27,"kind":12},{"name":"isa","line":27,"kind":12},{"kind":12,"name":"required","line":27},{"kind":12,"line":28,"name":"has_field"},{"kind":12,"line":28,"name":"post_id"},{"name":"is","line":28,"kind":12},{"kind":12,"name":"isa","line":28},{"kind":12,"name":"required","line":28},{"kind":12,"name":"has_field","line":29},{"kind":12,"line":29,"name":"reply_id"},{"kind":12,"line":29,"name":"is"},{"name":"isa","line":29,"kind":12},{"kind":12,"line":30,"name":"has_field"},{"kind":12,"name":"data","line":30},{"name":"is","line":30,"kind":12},{"kind":12,"name":"isa","line":30},{"name":"required","line":30,"kind":12},{"kind":12,"name":"has_field","line":31},{"kind":12,"line":31,"name":"created_at"},{"name":"is","line":31,"kind":12},{"kind":12,"line":31,"name":"isa"},{"kind":12,"name":"default","line":31},{"name":"required","line":31,"kind":12},{"kind":12,"name":"has_field","line":32},{"line":32,"name":"updated_at","kind":12},{"name":"is","line":32,"kind":12},{"line":32,"name":"isa","kind":12},{"line":32,"name":"default","kind":12},{"kind":12,"line":32,"name":"required"},{"name":"has_field","line":33,"kind":12},{"kind":12,"name":"deleted_at","line":33},{"kind":12,"line":33,"name":"is"},{"kind":12,"name":"isa","line":33},{"kind":12,"name":"required","line":33},{"kind":12,"line":35,"name":"has_field"},{"kind":12,"name":"status","line":35},{"line":36,"name":"is","kind":12},{"kind":12,"name":"isa","line":37},{"kind":12,"line":38,"name":"serialize"},{"containerName":"Const::Blog::COMMENT_ACTIVE","kind":12,"name":"Founder","line":40},{"containerName":"Const::Blog::COMMENT_DELETED_BY_BLOGGER","kind":12,"line":42,"name":"Founder"},{"containerName":"Const::Blog::COMMENT_DELETED_BY_COMMENTATOR","kind":12,"line":44,"name":"Founder"},{"line":46,"name":"Founder","kind":12,"containerName":"Const::Blog::COMMENT_BLOCK"},{"line":50,"name":"deserialize","kind":12},{"containerName":"Const::Blog::COMMENT_ACTIVE","kind":12,"name":"Founder","line":51},{"containerName":"Const::Blog::COMMENT_DELETED_BY_BLOGGER","kind":12,"line":53,"name":"Founder"},{"kind":12,"containerName":"Const::Blog::COMMENT_DELETED_BY_COMMENTATOR","line":55,"name":"Founder"},{"kind":12,"containerName":"Const::Blog::COMMENT_BLOCK","line":57,"name":"Founder"},{"line":62,"name":"default","kind":12},{"name":"has_index","line":65,"kind":12},{"name":"post_comments_created_idx","line":65,"kind":12},{"name":"fields","line":66,"kind":12},{"kind":12,"line":67,"name":"order"},{"line":68,"name":"field","kind":12},{"kind":12,"line":68,"name":"order"},{"name":"field","line":69,"kind":12},{"kind":12,"line":69,"name":"order"},{"kind":12,"name":"field","line":70},{"kind":12,"name":"order","line":70},{"name":"has_index_part","line":74,"kind":12},{"line":75,"name":"index","kind":12},{"name":"selector","line":76,"kind":12},{"name":"count","line":77,"kind":12},{"name":"uniq","line":78,"kind":12},{"name":"default_limit","line":79,"kind":12},{"kind":12,"name":"url","line":83},{"name":"is","line":84,"kind":12},{"kind":12,"name":"isa","line":85},{"name":"lazy","line":86,"kind":12},{"kind":12,"line":87,"name":"builder"},{"containerName":"Config","kind":12,"line":87,"name":"Founder"},{"line":87,"name":"get","children":[],"kind":12,"containerName":"Founder::Post::Comment","defintion":"sub"},{"containerName":"Const::POST_CONFIG","kind":12,"name":"Founder","line":87},{"kind":12,"containerName":"Founder::Post::Comment","name":"post_id","line":87},{"name":"id","line":87,"containerName":"Founder::Post::Comment","kind":12},{"line":90,"name":"media_data","kind":12},{"kind":12,"line":91,"name":"is"},{"line":92,"name":"isa","kind":12},{"name":"lazy","line":93,"kind":12},{"kind":12,"name":"builder","line":94},{"kind":12,"containerName":"MediaData","name":"Founder","line":94},{"name":"Load","line":94,"children":[],"defintion":"sub","kind":12,"containerName":"Founder::Post::Comment"},{"containerName":"Founder::Post::Comment","kind":12,"line":94,"name":"data"},{"name":"trigger","line":95,"kind":12},{"kind":12,"containerName":"Founder::Post::Comment","defintion":"sub","line":95,"name":"update_data","children":[]},{"kind":12,"name":"user","line":98},{"name":"is","line":99,"kind":12},{"name":"isa","line":100,"kind":12},{"name":"lazy","line":101,"kind":12},{"line":102,"name":"builder","kind":12},{"kind":12,"containerName":"User","name":"Founder","line":103},{"defintion":"sub","containerName":"Founder::Post::Comment","kind":12,"children":[],"name":"select_by_id","line":102},{"containerName":"Founder::Post::Comment","kind":12,"name":"user_id","line":103},{"name":"post","line":107,"kind":12},{"kind":12,"line":108,"name":"is"},{"kind":12,"line":109,"name":"isa"},{"line":110,"name":"lazy","kind":12},{"kind":12,"name":"builder","line":111},{"name":"Founder","line":112,"containerName":"Post","kind":12},{"defintion":"sub","containerName":"Founder::Post::Comment","kind":12,"children":[],"name":"select_by_id","line":111},{"name":"post_id","line":112,"kind":12,"containerName":"Founder::Post::Comment"},{"kind":12,"line":116,"name":"has_query"},{"kind":12,"name":"_delete_by_post","line":116},{"name":"has_query","line":117,"kind":12},{"kind":12,"name":"_delete_by_user","line":117},{"kind":12,"line":118,"name":"has_query"},{"kind":12,"name":"_query_by_post","line":118},{"name":"query","line":119,"kind":12},{"kind":12,"name":"bulk","line":122},{"kind":12,"line":123,"name":"object_result"},{"kind":12,"line":126,"name":"before"},{"defintion":"sub","containerName":"Founder::Post::Comment","kind":12,"children":[],"name":"_set_media_link","line":126},{"kind":12,"line":130,"name":"before"},{"defintion":"sub","containerName":"Founder::Post::Comment","kind":12,"children":[],"name":"updated_at","line":130},{"containerName":"Founder::Post::Comment","kind":12,"line":132,"name":"_update_media_link"},{"children":[],"name":"super_update","line":136,"defintion":"sub","kind":12,"containerName":"Founder::Post::Comment"},{"containerName":"update","kind":12,"name":"SUPER","line":137},{"defintion":"sub","containerName":"Founder::Post::Comment","kind":12,"name":"BUILDARGS","line":140,"children":[{"defintion":"my","containerName":"BUILDARGS","kind":13,"name":"$self","line":141},{"name":"%args","line":141,"kind":13,"containerName":"BUILDARGS"},{"kind":13,"containerName":"BUILDARGS","line":142,"name":"$args"},{"containerName":"BUILDARGS","kind":13,"line":143,"name":"$args"},{"name":"$args","line":143,"kind":13,"containerName":"BUILDARGS"},{"containerName":"BUILDARGS","kind":13,"line":145,"name":"%args"}]},{"name":"data","line":142,"kind":12},{"name":"data","line":143,"kind":12},{"line":143,"name":"to_hash","containerName":"Founder::Post::Comment","kind":12},{"kind":12,"name":"media_data","line":143},{"defintion":"sub","containerName":"Founder::Post::Comment","kind":12,"name":"update_data","line":148,"children":[{"defintion":"my","kind":13,"containerName":"update_data","name":"$self","line":149},{"name":"$self","line":150,"containerName":"update_data","kind":13},{"kind":13,"containerName":"update_data","name":"$self","line":150},{"name":"$self","line":150,"kind":13,"containerName":"update_data"}]},{"line":150,"name":"data","containerName":"Founder::Post::Comment","kind":12},{"name":"Founder","line":150,"containerName":"MediaData","kind":12},{"line":150,"name":"merge_data","kind":12,"containerName":"Founder::Post::Comment"},{"name":"data","line":150,"containerName":"Founder::Post::Comment","kind":12},{"line":150,"name":"media_data","kind":12,"containerName":"Founder::Post::Comment"},{"defintion":"sub","containerName":"Founder::Post::Comment","kind":12,"name":"media_container_type","line":153,"children":[]},{"defintion":"sub","containerName":"Founder::Post::Comment","kind":12,"children":[],"name":"media_container_id","line":154},{"kind":12,"containerName":"Founder::Post::Comment","name":"id","line":154},{"name":"media_container_data","line":155,"children":[],"defintion":"sub","kind":12,"containerName":"Founder::Post::Comment"},{"line":155,"name":"media_data","containerName":"Founder::Post::Comment","kind":12},{"defintion":"sub","containerName":"Founder::Post::Comment","kind":12,"name":"delete","line":157,"children":[{"containerName":"delete","kind":13,"defintion":"my","line":158,"name":"$self"},{"kind":13,"containerName":"delete","name":"%opts","line":158},{"name":"$opts","line":159,"containerName":"delete","kind":13},{"name":"$self","line":160,"containerName":"delete","kind":13},{"line":161,"name":"$self","kind":13,"containerName":"delete"},{"containerName":"delete","kind":13,"line":163,"name":"$opts"},{"containerName":"delete","kind":13,"name":"$self","line":164},{"line":165,"name":"$self","containerName":"delete","kind":13},{"line":167,"name":"$opts","containerName":"delete","kind":13},{"name":"$self","line":168,"containerName":"delete","kind":13},{"kind":13,"containerName":"delete","line":169,"name":"$self"},{"line":171,"name":"$opts","containerName":"delete","kind":13},{"line":172,"name":"$self","kind":13,"containerName":"delete"},{"name":"$self","line":173,"containerName":"delete","kind":13}]},{"line":159,"name":"force","kind":12},{"containerName":"Founder::Post::Comment","kind":12,"name":"_clean_media_link","line":160},{"kind":12,"containerName":"delete","name":"SUPER","line":161},{"line":163,"name":"moderator","kind":12},{"containerName":"Founder::Post::Comment","kind":12,"line":164,"name":"status"},{"name":"update","line":165,"kind":12,"containerName":"Founder::Post::Comment"},{"kind":12,"line":167,"name":"blogger"},{"containerName":"Founder::Post::Comment","kind":12,"name":"status","line":168},{"line":169,"name":"update","containerName":"Founder::Post::Comment","kind":12},{"line":171,"name":"commentator","kind":12},{"kind":12,"containerName":"Founder::Post::Comment","line":172,"name":"status"},{"kind":12,"containerName":"Founder::Post::Comment","name":"update","line":173},{"name":"restore","line":178,"children":[{"kind":13,"containerName":"restore","defintion":"my","line":179,"name":"$self"},{"line":179,"name":"%opts","containerName":"restore","kind":13},{"name":"$opts","line":180,"kind":13,"containerName":"restore"},{"kind":13,"containerName":"restore","line":180,"name":"$opts"},{"containerName":"restore","kind":13,"line":181,"name":"$self"},{"kind":13,"containerName":"restore","name":"$self","line":182},{"line":184,"name":"$opts","containerName":"restore","kind":13},{"name":"$self","line":184,"containerName":"restore","kind":13},{"name":"$self","line":185,"kind":13,"containerName":"restore"},{"containerName":"restore","kind":13,"line":186,"name":"$self"},{"kind":13,"containerName":"restore","name":"$opts","line":188},{"name":"$self","line":188,"containerName":"restore","kind":13},{"name":"$self","line":189,"containerName":"restore","kind":13},{"kind":13,"containerName":"restore","line":190,"name":"$self"}],"defintion":"sub","containerName":"Founder::Post::Comment","kind":12},{"kind":12,"name":"force","line":180},{"line":180,"name":"moderator","kind":12},{"line":181,"name":"status","kind":12,"containerName":"Founder::Post::Comment"},{"containerName":"Founder::Post::Comment","kind":12,"name":"update","line":182},{"line":184,"name":"blogger","kind":12},{"line":184,"name":"status","containerName":"Founder::Post::Comment","kind":12},{"containerName":"Founder::Post::Comment","kind":12,"line":185,"name":"status"},{"containerName":"Founder::Post::Comment","kind":12,"name":"update","line":186},{"line":188,"name":"commentator","kind":12},{"containerName":"Founder::Post::Comment","kind":12,"line":188,"name":"status"},{"line":189,"name":"status","kind":12,"containerName":"Founder::Post::Comment"},{"line":190,"name":"update","containerName":"Founder::Post::Comment","kind":12},{"containerName":"Founder::Post::Comment","kind":12,"defintion":"sub","children":[],"line":195,"name":"blocked"},{"kind":12,"containerName":"Founder::Post::Comment","name":"status","line":195},{"defintion":"sub","containerName":"Founder::Post::Comment","kind":12,"children":[{"containerName":"delete_by_post","kind":13,"defintion":"my","line":199,"name":"$class"},{"line":199,"name":"$post_id","kind":13,"containerName":"delete_by_post"},{"name":"$ids","line":200,"defintion":"my","containerName":"delete_by_post","kind":13},{"line":200,"name":"$class","containerName":"delete_by_post","kind":13},{"name":"$post_id","line":200,"kind":13,"containerName":"delete_by_post"},{"kind":13,"containerName":"delete_by_post","defintion":"my","line":201,"name":"$id"},{"line":201,"name":"$ids","containerName":"delete_by_post","kind":13},{"kind":13,"containerName":"delete_by_post","defintion":"my","line":202,"name":"$media_ids"},{"containerName":"delete_by_post","kind":13,"name":"$id","line":202}],"name":"delete_by_post","line":198},{"line":200,"name":"_delete_by_post","containerName":"Founder::Post::Comment","kind":12},{"kind":12,"name":"params","line":200},{"kind":12,"containerName":"MediaLink","name":"Founder","line":202},{"containerName":"Founder::Post::Comment","kind":12,"name":"clean_for_container","line":202},{"name":"delete_by_user","line":206,"children":[{"kind":13,"containerName":"delete_by_user","defintion":"my","line":207,"name":"$class"},{"containerName":"delete_by_user","kind":13,"line":207,"name":"$user_id"},{"containerName":"delete_by_user","kind":13,"name":"$class","line":208},{"name":"$user_id","line":208,"kind":13,"containerName":"delete_by_user"}],"defintion":"sub","kind":12,"containerName":"Founder::Post::Comment"},{"line":208,"name":"_delete_by_user","containerName":"Founder::Post::Comment","kind":12},{"line":208,"name":"params","kind":12},{"containerName":"Founder::Post::Comment","kind":12,"defintion":"sub","line":211,"name":"select_by_post_bulk","children":[{"containerName":"select_by_post_bulk","kind":13,"defintion":"my","line":212,"name":"$class"},{"line":212,"name":"$posts_ids","containerName":"select_by_post_bulk","kind":13},{"line":212,"name":"$limit","kind":13,"containerName":"select_by_post_bulk"},{"kind":13,"containerName":"select_by_post_bulk","name":"$class","line":213},{"containerName":"select_by_post_bulk","kind":13,"line":213,"name":"$limit"},{"containerName":"select_by_post_bulk","kind":13,"name":"$posts_ids","line":213}]},{"containerName":"Founder::Post::Comment","kind":12,"line":213,"name":"_query_by_post"},{"kind":12,"line":213,"name":"params"},{"containerName":"Const::Blog::COMMENT_ACTIVE","kind":12,"name":"Founder","line":213},{"kind":12,"name":"params_in","line":213},{"defintion":"sub","kind":12,"containerName":"Founder::Post::Comment","name":"can_view","line":216,"children":[{"name":"$self","line":217,"defintion":"my","containerName":"can_view","kind":13},{"containerName":"can_view","kind":13,"line":217,"name":"$actor"},{"containerName":"can_view","kind":13,"name":"$self","line":218},{"name":"$actor","line":218,"containerName":"can_view","kind":13}]},{"kind":12,"containerName":"Founder::Post::Comment","line":218,"name":"post"},{"name":"can_view","line":218,"containerName":"Founder::Post::Comment","kind":12},{"kind":12,"containerName":"Founder::Post::Comment","defintion":"sub","line":221,"name":"set_complete_data","children":[{"kind":13,"containerName":"set_complete_data","defintion":"my","line":222,"name":"$self"},{"containerName":"set_complete_data","kind":13,"name":"$media_link","line":222},{"name":"$class","line":223,"defintion":"my","kind":13,"containerName":"set_complete_data"},{"name":"$db","line":224,"defintion":"my","containerName":"set_complete_data","kind":13},{"name":"$class","line":224,"kind":13,"containerName":"set_complete_data"},{"name":"$db_class","line":225,"defintion":"my","kind":13,"containerName":"set_complete_data"},{"line":225,"name":"$class","containerName":"set_complete_data","kind":13},{"line":226,"name":"$table","containerName":"set_complete_data","kind":13,"defintion":"my"},{"name":"$class","line":226,"containerName":"set_complete_data","kind":13},{"name":"$conn_guard","line":227,"defintion":"my","kind":13,"containerName":"set_complete_data"},{"containerName":"set_complete_data","kind":13,"name":"$db_class","line":227},{"line":227,"name":"$db","containerName":"set_complete_data","kind":13},{"kind":13,"containerName":"set_complete_data","defintion":"my","line":228,"name":"$res"},{"name":"$db_class","line":228,"containerName":"set_complete_data","kind":13},{"containerName":"set_complete_data","kind":13,"line":228,"name":"$conn_guard"},{"line":230,"name":"$self","kind":13,"containerName":"set_complete_data"},{"containerName":"set_complete_data","kind":13,"line":233,"name":"$res"},{"containerName":"set_complete_data","kind":13,"defintion":"my","line":234,"name":"$need_update"},{"kind":13,"containerName":"set_complete_data","defintion":"my","line":235,"name":"$data"},{"containerName":"set_complete_data","kind":13,"line":235,"name":"$json"},{"kind":13,"containerName":"set_complete_data","name":"$res","line":235},{"containerName":"set_complete_data","kind":13,"line":236,"name":"$need_update"},{"line":236,"name":"$class","containerName":"set_complete_data","kind":13},{"line":236,"name":"$data","kind":13,"containerName":"set_complete_data"},{"name":"$media_link","line":236,"kind":13,"containerName":"set_complete_data"},{"name":"$need_update","line":237,"containerName":"set_complete_data","kind":13},{"name":"$db_class","line":238,"kind":13,"containerName":"set_complete_data"},{"name":"$conn_guard","line":238,"containerName":"set_complete_data","kind":13},{"line":240,"name":"$self","containerName":"set_complete_data","kind":13},{"kind":13,"containerName":"set_complete_data","line":240,"name":"$json"},{"containerName":"set_complete_data","kind":13,"line":240,"name":"$data"},{"containerName":"set_complete_data","kind":13,"name":"$media_link","line":244},{"kind":13,"containerName":"set_complete_data","line":246,"name":"$db_class"},{"line":246,"name":"$conn_guard","containerName":"set_complete_data","kind":13}]},{"name":"meta","line":224,"containerName":"Founder::Post::Comment","kind":12},{"line":224,"name":"db","kind":12,"containerName":"Founder::Post::Comment"},{"kind":12,"containerName":"Founder::Post::Comment","name":"meta","line":225},{"name":"db_class","line":225,"kind":12,"containerName":"Founder::Post::Comment"},{"name":"meta","line":226,"containerName":"Founder::Post::Comment","kind":12},{"line":226,"name":"table","containerName":"Founder::Post::Comment","kind":12},{"line":227,"name":"get_transaction_connect","containerName":"Founder::Post::Comment","kind":12},{"name":"selectall_arrayref","line":228,"containerName":"Founder::Post::Comment","kind":12},{"line":229,"name":"query","kind":12},{"name":"params","line":230,"kind":12},{"kind":12,"containerName":"Founder::Post::Comment","line":230,"name":"id"},{"kind":12,"line":231,"name":"deref_one_row_result"},{"containerName":"Founder::Post::Comment","kind":12,"line":235,"name":"decode"},{"line":236,"name":"search_and_fill_media","containerName":"Founder::Post::Comment","kind":12},{"name":"selectall_arrayref","line":238,"kind":12,"containerName":"Founder::Post::Comment"},{"kind":12,"name":"query","line":239},{"line":240,"name":"params","kind":12},{"line":240,"name":"id","kind":12,"containerName":"Founder::Post::Comment"},{"containerName":"Founder::Post::Comment","kind":12,"name":"encode","line":240},{"line":244,"name":"log_error","kind":12},{"name":"commit_transaction","line":246,"containerName":"Founder::Post::Comment","kind":12},{"line":249,"name":"MR","containerName":"ActiveRecordPg","kind":12},{"name":"meta","line":250,"kind":12,"containerName":"Founder::Post::Comment"},{"name":"make_immutable","line":250,"kind":12,"containerName":"Founder::Post::Comment"}]