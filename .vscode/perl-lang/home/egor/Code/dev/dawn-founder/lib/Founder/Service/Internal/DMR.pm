[{"name":"Founder::Service::Internal::DMR","defintion":1,"kind":2,"line":0},{"name":"utf8","line":2,"containerName":"","kind":2},{"line":3,"containerName":"MIME","kind":2,"name":"Base64"},{"line":5,"kind":2,"containerName":"MR","name":"Rest"},{"kind":2,"containerName":"MR","line":6,"name":"Log"},{"containerName":"MR::Rest::Util","kind":2,"line":7,"name":"Response"},{"name":"Credentials","kind":2,"containerName":"DMR","line":8},{"line":9,"kind":2,"containerName":"DMR::Fiscal","name":"Credentials"},{"name":"Payment","containerName":"Founder","kind":2,"line":11},{"name":"Receipt","containerName":"Founder::Payment","kind":2,"line":12},{"kind":2,"containerName":"Founder::Service::Params","line":13,"name":"DMR"},{"line":14,"containerName":"Founder::Service::Result","kind":2,"name":"Payment"},{"line":15,"kind":2,"containerName":"Founder::Payment","name":"PostProcess"},{"line":17,"kind":12,"name":"controller"},{"kind":12,"line":18,"name":"doc"},{"name":"roles","kind":12,"line":19},{"line":20,"kind":12,"name":"allow"},{"kind":12,"line":21,"name":"params"},{"line":22,"kind":12,"name":"responses"},{"name":"ok","kind":12,"line":23},{"kind":12,"line":24,"name":"doc"},{"kind":12,"line":25,"name":"status"},{"kind":12,"line":26,"name":"isa"},{"line":27,"kind":12,"name":"schema"},{"line":30,"kind":12,"name":"handler"},{"defintion":"my","name":"$c","line":31,"kind":13,"containerName":null},{"name":"$data","defintion":"my","containerName":null,"kind":13,"line":33},{"line":33,"kind":13,"containerName":null,"name":"$c"},{"name":"params","kind":12,"containerName":"Founder::Service::Internal::DMR","line":33},{"line":33,"containerName":"Founder::Service::Internal::DMR","kind":12,"name":"json"},{"line":35,"containerName":null,"kind":13,"defintion":"my","name":"$merchant_id"},{"name":"%data","containerName":null,"kind":13,"line":35},{"name":"header","line":35,"kind":12},{"line":35,"kind":12,"name":"client_id"},{"defintion":"my","name":"$body","line":37,"containerName":null,"kind":13},{"name":"%data","containerName":null,"kind":13,"line":37},{"name":"body","kind":12,"line":37},{"name":"$payment_id","defintion":"my","kind":13,"containerName":null,"line":38},{"line":38,"kind":13,"containerName":null,"name":"%body"},{"name":"merchant_param","line":38,"kind":12},{"line":38,"kind":12,"name":"payment_id"},{"defintion":"my","name":"$transaction_id","line":39,"kind":13,"containerName":null},{"kind":13,"containerName":null,"line":39,"name":"%body"},{"name":"transaction_id","line":39,"kind":12},{"line":40,"containerName":null,"kind":13,"defintion":"my","name":"$user_id"},{"kind":13,"containerName":null,"line":40,"name":"%body"},{"line":40,"kind":12,"name":"merchant_param"},{"kind":12,"line":40,"name":"user_id"},{"name":"$is_test","defintion":"my","kind":13,"containerName":null,"line":41},{"name":"%body","line":41,"kind":13,"containerName":null},{"kind":12,"line":41,"name":"merchant_param"},{"name":"is_test","kind":12,"line":41},{"defintion":"my","name":"%resp","line":43,"containerName":null,"kind":13},{"kind":12,"line":44,"name":"status"},{"name":"transaction_id","kind":12,"line":45},{"name":"$transaction_id","line":45,"kind":13,"containerName":null},{"line":46,"kind":12,"name":"notify_type"},{"containerName":null,"kind":13,"line":46,"name":"%data"},{"kind":12,"line":46,"name":"body"},{"line":46,"kind":12,"name":"notify_type"},{"name":"buyer_id","line":47,"kind":12},{"containerName":null,"kind":13,"line":47,"name":"$user_id"},{"line":48,"kind":12,"name":"merchant_id"},{"name":"$merchant_id","line":49,"kind":13,"containerName":null},{"name":"$is_test","kind":13,"containerName":null,"line":51},{"containerName":"Config","kind":12,"line":51,"name":"Founder"},{"containerName":"Founder::Service::Internal::DMR","kind":12,"line":51,"name":"is_test_server"},{"name":"log_debug3","line":52,"kind":12},{"name":"$is_test","containerName":null,"kind":13,"line":52},{"name":"Founder","kind":12,"containerName":"Config","line":52},{"name":"is_test_server","containerName":"Founder::Service::Internal::DMR","kind":12,"line":52},{"name":"Founder","kind":12,"containerName":"Payment","line":53},{"name":"dmr_response","kind":12,"containerName":"Founder::Service::Internal::DMR","line":53},{"kind":13,"containerName":null,"line":53,"name":"$resp"},{"name":"log_debug1","line":56,"kind":12},{"line":56,"kind":13,"containerName":null,"name":"$data"},{"defintion":"my","name":"$payment","line":58,"containerName":null,"kind":13},{"name":"%payment_id","line":59,"containerName":null,"kind":13},{"name":"$payment","containerName":null,"kind":13,"line":60},{"name":"Founder","line":60,"kind":12,"containerName":"Payment"},{"name":"select_by_id","kind":12,"containerName":"Founder::Service::Internal::DMR","line":60},{"name":"$payment_id","line":60,"kind":13,"containerName":null},{"name":"%payment","containerName":null,"kind":13,"line":61},{"name":"$payment","containerName":null,"kind":13,"line":62},{"kind":12,"containerName":"Payment","line":62,"name":"Founder"},{"containerName":"Founder::Service::Internal::DMR","kind":12,"line":62,"name":"from_box"},{"containerName":null,"kind":13,"line":62,"name":"$payment_id"},{"kind":13,"containerName":null,"line":62,"name":"$transaction_id"},{"containerName":null,"kind":13,"line":63,"name":"$payment"},{"name":"insert","line":63,"kind":12,"containerName":"Founder::Service::Internal::DMR"},{"name":"log_debug3","line":65,"kind":12},{"name":"$payment","line":65,"kind":13,"containerName":null},{"name":"%transaction_id","line":66,"kind":13,"containerName":null},{"name":"$payment","containerName":null,"kind":13,"line":67},{"line":67,"kind":12,"containerName":"Payment","name":"Founder"},{"kind":12,"containerName":"Founder::Service::Internal::DMR","line":67,"name":"select_by_transaction_id"},{"name":"$transaction_id","line":67,"containerName":null,"kind":13},{"name":"log_debug3","line":68,"kind":12},{"containerName":null,"kind":13,"line":68,"name":"$payment"},{"name":"%payment","line":71,"containerName":null,"kind":13},{"line":72,"kind":12,"name":"log_error"},{"name":"$data","kind":13,"containerName":null,"line":72},{"line":73,"kind":12,"containerName":"Payment","name":"Founder"},{"name":"dmr_response","containerName":"Founder::Service::Internal::DMR","kind":12,"line":73},{"name":"$resp","line":73,"kind":13,"containerName":null},{"name":"$payment","kind":13,"containerName":null,"line":76},{"name":"is_done","line":76,"containerName":"Founder::Service::Internal::DMR","kind":12},{"kind":12,"line":77,"name":"log_warn"},{"name":"$payment","containerName":null,"kind":13,"line":77},{"name":"$payment","line":78,"kind":13,"containerName":null},{"containerName":"Founder::Service::Internal::DMR","kind":12,"line":78,"name":"is_vkpay_retry"},{"name":"%body","line":78,"kind":13,"containerName":null},{"name":"status","line":78,"kind":12},{"name":"$payment","kind":13,"containerName":null,"line":79},{"name":"transaction_id","containerName":"Founder::Service::Internal::DMR","kind":12,"line":79},{"name":"$transaction_id","kind":13,"containerName":null,"line":79},{"name":"log_info","line":80,"kind":12},{"name":"$payment","line":80,"kind":13,"containerName":null},{"line":80,"containerName":"Founder::Service::Internal::DMR","kind":12,"name":"id"},{"containerName":"Payment","kind":12,"line":82,"name":"Founder"},{"name":"dmr_response","line":82,"containerName":"Founder::Service::Internal::DMR","kind":12},{"line":82,"containerName":null,"kind":13,"name":"$resp"},{"line":86,"containerName":null,"kind":13,"name":"$payment"},{"line":86,"kind":12,"containerName":"Founder::Service::Internal::DMR","name":"raw_data"},{"name":"$body","line":86,"kind":13,"containerName":null},{"defintion":"my","name":"$handler","line":87,"kind":13,"containerName":null},{"kind":12,"containerName":"Payment::PostProcess","line":87,"name":"Founder"},{"containerName":"Founder::Service::Internal::DMR","kind":12,"line":87,"name":"new"},{"line":87,"kind":12,"name":"payment"},{"name":"$payment","kind":13,"containerName":null,"line":87},{"line":88,"kind":13,"containerName":null,"name":"$handler"},{"name":"process","kind":12,"containerName":"Founder::Service::Internal::DMR","line":88},{"name":"Founder","containerName":"Payment","kind":12,"line":90},{"name":"dmr_response","line":90,"kind":12,"containerName":"Founder::Service::Internal::DMR"},{"name":"$resp","containerName":null,"kind":13,"line":90},{"kind":12,"line":94,"name":"controller"},{"line":95,"kind":12,"name":"doc"},{"name":"roles","kind":12,"line":96},{"name":"allow","line":97,"kind":12},{"name":"params","line":98,"kind":12},{"name":"responses","kind":12,"line":99},{"line":100,"kind":12,"name":"ok"},{"kind":12,"line":101,"name":"doc"},{"kind":12,"line":102,"name":"status"},{"name":"isa","kind":12,"line":103},{"name":"schema","line":104,"kind":12},{"kind":12,"line":107,"name":"handler"},{"line":108,"containerName":null,"kind":13,"defintion":"my","name":"$c"},{"line":110,"kind":13,"containerName":null,"defintion":"my","name":"$data"},{"line":110,"kind":13,"containerName":null,"name":"$c"},{"containerName":"Founder::Service::Internal::DMR","kind":12,"line":110,"name":"params"},{"containerName":"Founder::Service::Internal::DMR","kind":12,"line":110,"name":"json"},{"defintion":"my","name":"$header","line":111,"containerName":null,"kind":13},{"kind":13,"containerName":null,"line":111,"name":"%data"},{"line":111,"kind":12,"name":"header"},{"name":"log_debug1","line":112,"kind":12},{"containerName":null,"kind":13,"line":112,"name":"$data"},{"line":114,"kind":13,"containerName":null,"defintion":"my","name":"%resp"},{"name":"receipt_id","line":114,"kind":12},{"name":"$c","line":114,"kind":13,"containerName":null},{"line":114,"kind":12,"containerName":"Founder::Service::Internal::DMR","name":"params"},{"name":"json","kind":12,"containerName":"Founder::Service::Internal::DMR","line":114},{"name":"body","kind":12,"line":114},{"name":"receipt_id","line":114,"kind":12},{"name":"$receipt","defintion":"my","containerName":null,"kind":13,"line":115},{"name":"Founder","containerName":"Payment::Receipt","kind":12,"line":115},{"containerName":"Founder::Service::Internal::DMR","kind":12,"line":115,"name":"select_by_receipt_id"},{"name":"$c","line":115,"kind":13,"containerName":null},{"name":"params","kind":12,"containerName":"Founder::Service::Internal::DMR","line":115},{"line":115,"kind":12,"containerName":"Founder::Service::Internal::DMR","name":"json"},{"name":"body","kind":12,"line":115},{"line":115,"kind":12,"name":"receipt_id"},{"line":116,"kind":12,"name":"resp_fiscal_error"},{"name":"%resp","containerName":null,"kind":13,"line":116},{"name":"message","line":116,"kind":12},{"name":"$receipt","line":116,"containerName":null,"kind":13},{"name":"%header","kind":13,"containerName":null,"line":118},{"line":118,"kind":12,"name":"status"},{"name":"$receipt","line":119,"containerName":null,"kind":13},{"containerName":"Founder::Service::Internal::DMR","kind":12,"line":119,"name":"status"},{"name":"%header","kind":13,"containerName":null,"line":120},{"line":120,"kind":12,"name":"status"},{"line":121,"kind":12,"name":"log_error"},{"line":121,"containerName":null,"kind":13,"name":"%header"},{"line":121,"kind":12,"name":"error"},{"name":"$receipt","line":122,"kind":13,"containerName":null},{"line":122,"kind":12,"containerName":"Founder::Service::Internal::DMR","name":"status"},{"name":"log_error","kind":12,"line":124},{"name":"$header","line":124,"kind":13,"containerName":null},{"line":125,"kind":12,"name":"resp_fiscal_error"},{"line":125,"containerName":null,"kind":13,"name":"%resp"},{"line":125,"kind":12,"name":"message"},{"name":"$receipt","line":127,"kind":13,"containerName":null},{"kind":12,"containerName":"Founder::Service::Internal::DMR","line":127,"name":"update"},{"name":"DMR","containerName":"Fiscal::Credentials","kind":12,"line":129},{"line":129,"containerName":"Founder::Service::Internal::DMR","kind":12,"name":"make_response"},{"name":"%resp","containerName":null,"kind":13,"line":129},{"name":"status","kind":12,"line":129},{"line":134,"kind":12,"containerName":"Founder::Service::Internal::DMR","children":[{"line":135,"kind":13,"containerName":"resp_fiscal_error","defintion":"my","name":"$data"},{"name":"$header_message","defintion":"my","containerName":"resp_fiscal_error","kind":13,"line":136},{"name":"$header_message","kind":13,"containerName":"resp_fiscal_error","line":137},{"line":138,"containerName":"resp_fiscal_error","kind":13,"name":"$data"},{"name":"$header_message","line":138,"kind":13,"containerName":"resp_fiscal_error"}],"defintion":"sub","name":"resp_fiscal_error"},{"name":"code","kind":12,"line":137},{"name":"DMR","line":138,"kind":12,"containerName":"Fiscal::Credentials"},{"name":"make_response","containerName":"Founder::Service::Internal::DMR","kind":12,"line":138},{"name":"error","kind":12,"line":138},{"line":138,"kind":12,"name":"status"},{"name":"meta","line":141,"containerName":"Founder::Service::Internal::DMR","kind":12},{"name":"make_immutable","line":141,"kind":12,"containerName":"Founder::Service::Internal::DMR"}]