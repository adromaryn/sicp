[{"defintion":1,"kind":2,"line":0,"name":"Founder::Mailer"},{"containerName":"","kind":2,"line":2,"name":"strict"},{"kind":2,"line":3,"name":"warnings","containerName":""},{"containerName":"","line":4,"name":"utf8","kind":2},{"containerName":"","kind":2,"name":"Encode","line":6},{"kind":2,"line":7,"name":"HTTP","containerName":"AnyEvent"},{"kind":2,"line":8,"name":"Base64","containerName":"MIME"},{"kind":2,"line":9,"name":"MD5","containerName":"Digest"},{"containerName":"JSON","line":10,"name":"XS","kind":2},{"containerName":"URI::Escape","line":11,"name":"XS","kind":2},{"kind":2,"line":12,"name":"Log","containerName":"MR"},{"containerName":"Founder","line":14,"name":"User","kind":2},{"kind":2,"name":"Config","line":15,"containerName":"Founder"},{"name":"Const","line":16,"kind":2,"containerName":"Founder"},{"containerName":"Founder::Const","name":"Mailer","line":17,"kind":2},{"line":18,"name":"UserSettings","kind":2,"containerName":"Founder::Notification"},{"containerName":"Founder::Mailer","name":"View","line":19,"kind":2},{"name":"Mailer","line":20,"kind":2,"containerName":"Founder::TP"},{"containerName":null,"kind":13,"line":22,"name":"$json","defintion":"my"},{"name":"JSON","line":22,"kind":12,"containerName":"XS"},{"kind":12,"line":22,"name":"new","containerName":"Founder::Mailer"},{"kind":12,"name":"utf8","line":22,"containerName":"Founder::Mailer"},{"kind":12,"name":"send_email","defintion":"sub","containerName":"Founder::Mailer","children":[{"containerName":"send_email","defintion":"my","kind":13,"name":"$user","line":25},{"containerName":"send_email","name":"$type","line":25,"kind":13},{"kind":13,"line":25,"name":"$vars","containerName":"send_email"},{"line":26,"name":"$email","kind":13,"defintion":"my","containerName":"send_email"},{"name":"$user","line":26,"kind":13,"containerName":"send_email"},{"line":26,"name":"$user","kind":13,"containerName":"send_email"},{"line":26,"name":"$user","kind":13,"containerName":"send_email"},{"containerName":"send_email","kind":13,"name":"$email","line":27},{"defintion":"my","kind":13,"line":29,"name":"$path","containerName":"send_email"},{"defintion":"my","kind":13,"name":"$disable","line":30,"containerName":"send_email"},{"line":31,"name":"$disable","kind":13,"containerName":"send_email"},{"containerName":"send_email","line":33,"name":"$letter_id","kind":13,"defintion":"my"},{"name":"$letter_id","line":34,"kind":13,"containerName":"send_email"},{"kind":13,"name":"$vars","line":36,"containerName":"send_email"},{"containerName":"send_email","line":38,"name":"$user","kind":13},{"containerName":"send_email","name":"$is_force","line":39,"kind":13,"defintion":"my"},{"kind":13,"name":"$is_force","line":40,"containerName":"send_email"},{"line":41,"name":"$user","kind":13,"containerName":"send_email"},{"defintion":"my","name":"$user_settings","line":42,"kind":13,"containerName":"send_email"},{"containerName":"send_email","line":42,"name":"$user","kind":13},{"containerName":"send_email","kind":13,"line":43,"name":"$user_settings"},{"name":"$user","line":44,"kind":13,"containerName":"send_email"},{"name":"$type","line":44,"kind":13,"containerName":"send_email"},{"containerName":"send_email","kind":13,"name":"$user","line":48},{"containerName":"send_email","defintion":"my","name":"$is_whitelist","line":53,"kind":13},{"containerName":"send_email","name":"$is_whitelist","line":54,"kind":13},{"kind":13,"name":"$vars","line":57,"containerName":"send_email"},{"kind":13,"line":57,"name":"$json","containerName":"send_email"},{"containerName":"send_email","line":57,"name":"$vars","kind":13},{"name":"$vars","line":57,"kind":13,"containerName":"send_email"},{"kind":13,"line":59,"name":"$vars","containerName":"send_email"},{"containerName":"send_email","line":59,"name":"$type","kind":13},{"name":"$email","line":59,"kind":13,"containerName":"send_email"}],"line":24},{"name":"email","line":26,"kind":12,"containerName":"Founder::Mailer"},{"name":"Founder","line":29,"kind":12,"containerName":"Const::MAILER_PATH"},{"line":30,"name":"Founder","kind":12,"containerName":"Config"},{"name":"get","line":30,"kind":12,"containerName":"Founder::Mailer"},{"containerName":"Config","kind":12,"line":33,"name":"Founder"},{"kind":12,"name":"get","line":33,"containerName":"Founder::Mailer"},{"containerName":"Config","line":39,"name":"Founder","kind":12},{"containerName":"Founder::Mailer","line":39,"name":"get","kind":12},{"kind":12,"line":41,"name":"email_verified","containerName":"Founder::Mailer"},{"line":42,"name":"Founder","kind":12,"containerName":"Notification::UserSettings"},{"name":"select_by_user_id","line":42,"kind":12,"containerName":"Founder::Mailer"},{"line":42,"name":"id","kind":12,"containerName":"Founder::Mailer"},{"line":43,"name":"check_type_transport","kind":12,"containerName":"Founder::Mailer"},{"line":44,"name":"log_info","kind":12},{"kind":12,"name":"is_external","line":48,"containerName":"Founder::Mailer"},{"kind":12,"line":49,"name":"log_info"},{"containerName":"Config","kind":12,"name":"Founder","line":53},{"kind":12,"line":53,"name":"get","containerName":"Founder::Mailer"},{"kind":12,"name":"encode","line":57,"containerName":"Founder::Mailer"},{"containerName":"TP::Mailer","line":59,"name":"Founder","kind":12},{"kind":12,"line":59,"name":"Add","containerName":"Founder::Mailer"},{"line":59,"name":"data","kind":12},{"line":59,"name":"type","kind":12},{"kind":12,"line":59,"name":"email"},{"containerName":"Founder::Mailer","defintion":"sub","name":"send_to_mailer_raw","kind":12,"line":64,"children":[{"kind":13,"name":"$class","line":65,"defintion":"my","containerName":"send_to_mailer_raw"},{"name":"$letter_id","line":65,"kind":13,"containerName":"send_to_mailer_raw"},{"kind":13,"name":"$email","line":65,"containerName":"send_to_mailer_raw"},{"kind":13,"line":65,"name":"$reply_to","containerName":"send_to_mailer_raw"},{"containerName":"send_to_mailer_raw","kind":13,"name":"$data","line":65},{"name":"$timestamp","line":65,"kind":13,"containerName":"send_to_mailer_raw"},{"kind":13,"line":67,"name":"$letter_id","containerName":"send_to_mailer_raw"},{"containerName":"send_to_mailer_raw","line":68,"name":"$timestamp","kind":13},{"containerName":"send_to_mailer_raw","name":"$data","line":70,"kind":13},{"line":70,"name":"$data","kind":13,"containerName":"send_to_mailer_raw"},{"name":"$mailer_path","line":72,"kind":13,"defintion":"my","containerName":"send_to_mailer_raw"},{"defintion":"my","kind":13,"name":"$mailer_host","line":73,"containerName":"send_to_mailer_raw"},{"containerName":"send_to_mailer_raw","name":"$mailer_path","line":73,"kind":13},{"containerName":"send_to_mailer_raw","line":74,"name":"$login","kind":13,"defintion":"my"},{"kind":13,"name":"$mailer_path","line":74,"containerName":"send_to_mailer_raw"},{"kind":13,"name":"$secret","line":75,"defintion":"my","containerName":"send_to_mailer_raw"},{"containerName":"send_to_mailer_raw","kind":13,"name":"$mailer_path","line":75},{"kind":13,"line":76,"name":"$main_host","defintion":"my","containerName":"send_to_mailer_raw"},{"containerName":"send_to_mailer_raw","line":76,"name":"$mailer_path","kind":13},{"defintion":"my","name":"$static_host","line":77,"kind":13,"containerName":"send_to_mailer_raw"},{"line":77,"name":"$mailer_path","kind":13,"containerName":"send_to_mailer_raw"},{"containerName":"send_to_mailer_raw","kind":13,"line":78,"name":"$login"},{"containerName":"send_to_mailer_raw","name":"$secret","line":78,"kind":13},{"containerName":"send_to_mailer_raw","kind":13,"line":78,"name":"$main_host"},{"containerName":"send_to_mailer_raw","kind":13,"name":"$static_host","line":78},{"containerName":"send_to_mailer_raw","defintion":"my","name":"$credentials","line":80,"kind":13},{"containerName":"send_to_mailer_raw","line":81,"name":"$credentials","kind":13},{"containerName":"send_to_mailer_raw","kind":13,"name":"$hosts","line":82,"defintion":"my"},{"kind":13,"line":82,"name":"$json","containerName":"send_to_mailer_raw"},{"line":84,"name":"$main_host","kind":13,"containerName":"send_to_mailer_raw"},{"kind":13,"name":"$static_host","line":85,"containerName":"send_to_mailer_raw"},{"containerName":"send_to_mailer_raw","kind":13,"name":"$data","line":88},{"containerName":"send_to_mailer_raw","name":"$data","line":88,"kind":13},{"name":"$data","line":88,"kind":13,"containerName":"send_to_mailer_raw"},{"containerName":"send_to_mailer_raw","kind":13,"name":"$email","line":89},{"line":89,"name":"$email","kind":13,"containerName":"send_to_mailer_raw"},{"containerName":"send_to_mailer_raw","kind":13,"name":"$email","line":89},{"containerName":"send_to_mailer_raw","defintion":"my","kind":13,"name":"$send_id","line":90},{"kind":13,"name":"$timestamp","line":90,"containerName":"send_to_mailer_raw"},{"containerName":"send_to_mailer_raw","name":"$data","line":90,"kind":13},{"name":"$email","line":90,"kind":13,"containerName":"send_to_mailer_raw"},{"defintion":"my","kind":13,"name":"$params_str","line":91,"containerName":"send_to_mailer_raw"},{"containerName":"send_to_mailer_raw","kind":13,"line":92,"name":"$reply_to"},{"kind":13,"name":"$reply_to","line":93,"containerName":"send_to_mailer_raw"},{"name":"$reply_to","line":94,"kind":13,"containerName":"send_to_mailer_raw"},{"containerName":"send_to_mailer_raw","line":94,"name":"$reply_to","kind":13},{"kind":13,"name":"$params_str","line":95,"containerName":"send_to_mailer_raw"},{"containerName":"send_to_mailer_raw","kind":13,"line":99,"name":"$cv","defintion":"my"},{"containerName":"send_to_mailer_raw","kind":13,"name":"$mailer_host","line":100},{"line":100,"name":"$params_str","kind":13,"containerName":"send_to_mailer_raw"},{"containerName":"send_to_mailer_raw","line":102,"name":"$mailer_host","kind":13},{"containerName":"send_to_mailer_raw","line":103,"name":"$params_str","kind":13},{"defintion":"sub","name":"$cv","line":108,"kind":13,"containerName":"send_to_mailer_raw"},{"line":113,"name":"$cv","kind":13,"containerName":"send_to_mailer_raw"}]},{"line":70,"name":"uri_escape","kind":12},{"kind":12,"name":"encode_base64","line":70},{"kind":12,"line":72,"name":"Founder","containerName":"Const::MAILER_PATH"},{"kind":12,"name":"Founder","line":73,"containerName":"Config"},{"containerName":"Founder::Mailer","kind":12,"line":73,"name":"get"},{"containerName":"Config","line":74,"name":"Founder","kind":12},{"containerName":"Founder::Mailer","kind":12,"line":74,"name":"get"},{"containerName":"Config","kind":12,"name":"Founder","line":75},{"containerName":"Founder::Mailer","line":75,"name":"get","kind":12},{"containerName":"Config","line":76,"name":"Founder","kind":12},{"kind":12,"name":"get","line":76,"containerName":"Founder::Mailer"},{"containerName":"Config","line":77,"name":"Founder","kind":12},{"kind":12,"line":77,"name":"get","containerName":"Founder::Mailer"},{"kind":12,"name":"encode_base64url","line":80},{"kind":12,"name":"uri_escape","line":82},{"kind":12,"line":82,"name":"encode_base64"},{"line":82,"name":"encode","kind":12,"containerName":"Founder::Mailer"},{"kind":12,"name":"main","line":84},{"kind":12,"line":85,"name":"static"},{"kind":12,"line":88,"name":"encode_utf8"},{"containerName":"is_utf8","name":"utf8","line":88,"kind":12},{"line":89,"name":"encode_utf8","kind":12},{"kind":12,"line":89,"name":"utf8","containerName":"is_utf8"},{"kind":12,"line":90,"name":"md5_hex"},{"name":"md5_hex","line":90,"kind":12},{"kind":12,"line":94,"name":"uri_escape"},{"line":98,"name":"AnyEvent","kind":12},{"kind":12,"name":"now_update","line":98,"containerName":"Founder::Mailer"},{"name":"AnyEvent","line":99,"kind":12},{"containerName":"Founder::Mailer","kind":12,"line":99,"name":"condvar"},{"kind":12,"name":"log_dbg3","line":100},{"name":"http_post","line":101,"kind":12},{"kind":12,"line":104,"name":"headers"},{"name":"authorization","line":105,"kind":12},{"containerName":"Founder::Mailer","kind":12,"name":"send","line":109},{"name":"recv","line":113,"kind":12,"containerName":"Founder::Mailer"},{"children":[{"kind":13,"line":117,"name":"$class","defintion":"my","containerName":"send_to_mailer"},{"containerName":"send_to_mailer","name":"$letter_id","line":117,"kind":13},{"line":117,"name":"$email","kind":13,"containerName":"send_to_mailer"},{"kind":13,"line":117,"name":"$reply_to","containerName":"send_to_mailer"},{"containerName":"send_to_mailer","kind":13,"line":117,"name":"$data"},{"containerName":"send_to_mailer","kind":13,"line":117,"name":"$timestamp"},{"kind":13,"name":"$body","line":118,"defintion":"my","containerName":"send_to_mailer"},{"line":118,"name":"$headers","kind":13,"containerName":"send_to_mailer"},{"name":"$class","line":118,"kind":13,"containerName":"send_to_mailer"},{"containerName":"send_to_mailer","name":"$letter_id","line":118,"kind":13},{"line":118,"name":"$email","kind":13,"containerName":"send_to_mailer"},{"kind":13,"name":"$reply_to","line":118,"containerName":"send_to_mailer"},{"containerName":"send_to_mailer","name":"$data","line":118,"kind":13},{"kind":13,"line":118,"name":"$timestamp","containerName":"send_to_mailer"},{"kind":13,"line":120,"name":"$bdata","defintion":"my","containerName":"send_to_mailer"},{"containerName":"send_to_mailer","line":121,"name":"$headers","kind":13},{"containerName":"send_to_mailer","line":122,"name":"$headers","kind":13},{"kind":13,"name":"$bdata","line":124,"containerName":"send_to_mailer"},{"kind":13,"name":"$body","line":124,"containerName":"send_to_mailer"},{"containerName":"send_to_mailer","kind":13,"name":"$bdata","line":124},{"kind":13,"line":125,"name":"$body","containerName":"send_to_mailer"},{"containerName":"send_to_mailer","kind":13,"line":126,"name":"$stats","defintion":"my"},{"containerName":"send_to_mailer","kind":13,"name":"$bdata","line":126},{"name":"$stats","line":127,"kind":13,"containerName":"send_to_mailer"},{"kind":13,"name":"$stats","line":127,"containerName":"send_to_mailer"},{"containerName":"send_to_mailer","kind":13,"line":127,"name":"$stats"},{"containerName":"send_to_mailer","kind":13,"name":"$users","line":128,"defintion":"my"},{"containerName":"send_to_mailer","name":"$email","line":128,"kind":13},{"name":"$users","line":129,"kind":13,"containerName":"send_to_mailer"}],"line":116,"kind":12,"name":"send_to_mailer","defintion":"sub","containerName":"Founder::Mailer"},{"kind":12,"name":"send_to_mailer_raw","line":118,"containerName":"Founder::Mailer"},{"name":"Status","line":121,"kind":12},{"line":122,"name":"log_error","kind":12},{"containerName":"Const::Mailer::STATUS_MAILER_ERROR","kind":12,"name":"Founder","line":123},{"kind":12,"line":124,"name":"decode_json"},{"name":"status","line":124,"kind":12},{"kind":12,"name":"log_error","line":125},{"line":126,"name":"stats","kind":12},{"kind":12,"line":127,"name":"stop_inactive"},{"kind":12,"name":"stop_nonexistent","line":127},{"containerName":"User","line":128,"name":"Founder","kind":12},{"name":"select_by_email","line":128,"kind":12,"containerName":"Founder::Mailer"},{"kind":12,"name":"email_verified","line":130,"containerName":"Founder::Mailer"},{"kind":12,"line":131,"name":"update","containerName":"Founder::Mailer"},{"containerName":"Const::Mailer::STATUS_FAIL","line":134,"name":"Founder","kind":12},{"line":136,"name":"log_dbg1","kind":12},{"name":"Founder","line":137,"kind":12,"containerName":"Const::Mailer::STATUS_OK"}]