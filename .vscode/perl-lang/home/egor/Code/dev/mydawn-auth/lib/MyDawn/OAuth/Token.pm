[{"name":"MyDawn::OAuth::Token","line":0,"kind":2,"defintion":1},{"kind":2,"line":2,"name":"TarantoolBoxRecord","containerName":"MR::OnlineConf::Generic::Trait::Class"},{"name":"Octopus","containerName":"MR::ActiveRecord","kind":2,"line":3},{"containerName":"Math::Random","name":"Secure","line":4,"kind":2},{"line":5,"kind":2,"containerName":"Mouse","name":"Util"},{"kind":2,"line":6,"name":"Log","containerName":"MR"},{"containerName":"MyDawn::OAuth","name":"Const","line":7,"kind":2},{"kind":2,"line":8,"name":"Config","containerName":"MyDawn::OAuth::Token"},{"line":47,"kind":12,"name":"iproto"},{"name":"MyDawn","containerName":"OAuth::Token::Config::box_config","kind":12,"line":47},{"name":"namespace","kind":12,"line":48},{"name":"MyDawn","containerName":"OAuth::Token::Config::namespace","kind":12,"line":48},{"name":"has_field","line":50,"kind":12},{"kind":12,"line":50,"name":"access_token"},{"line":52,"kind":12,"name":"ascii"},{"kind":12,"line":53,"name":"min_size"},{"name":"max_size","line":54,"kind":12},{"line":55,"kind":12,"name":"primary_key"},{"kind":12,"line":56,"name":"lazy"},{"kind":12,"line":57,"name":"index"},{"kind":12,"line":58,"name":"selector"},{"name":"default","kind":12,"line":59},{"kind":12,"defintion":"sub","line":59,"children":[],"containerName":"MyDawn::OAuth::Token","name":"generate_token"},{"kind":12,"line":62,"name":"has_field"},{"name":"refresh_token","kind":12,"line":62},{"name":"format","kind":12,"line":63},{"name":"ascii","line":64,"kind":12},{"line":65,"kind":12,"name":"min_size"},{"kind":12,"line":66,"name":"max_size"},{"name":"uniq","kind":12,"line":67},{"name":"lazy","kind":12,"line":68},{"name":"index","line":69,"kind":12},{"line":70,"kind":12,"name":"selector"},{"name":"default","kind":12,"line":71},{"kind":12,"defintion":"sub","children":[],"line":71,"name":"generate_token","containerName":"MyDawn::OAuth::Token"},{"kind":12,"line":74,"name":"has_field"},{"line":74,"kind":12,"name":"oauth_source"},{"kind":12,"line":75,"name":"required"},{"name":"format","kind":12,"line":76},{"name":"serialize","line":77,"kind":12},{"name":"MyDawn","containerName":"OAuth::Const::SOURCES_MAP","kind":12,"line":77},{"line":78,"kind":12,"name":"deserialize"},{"containerName":"OAuth::Const::SOURCES_REMAP","name":"MyDawn","line":78,"kind":12},{"name":"has_field","line":81,"kind":12},{"name":"oauth_access_token","line":81,"kind":12},{"line":82,"kind":12,"name":"required"},{"line":83,"kind":12,"name":"format"},{"kind":12,"line":84,"name":"ascii"},{"name":"has_field","line":87,"kind":12},{"kind":12,"line":87,"name":"oauth_refresh_token"},{"line":88,"kind":12,"name":"format"},{"name":"ascii","kind":12,"line":89},{"line":90,"kind":12,"name":"default"},{"line":93,"kind":12,"name":"has_field"},{"name":"oauth_expire_time","kind":12,"line":93},{"name":"required","kind":12,"line":94},{"name":"format","line":95,"kind":12},{"kind":12,"line":98,"name":"has_field"},{"name":"oauth_user_id","line":98,"kind":12},{"name":"format","kind":12,"line":99},{"name":"default","kind":12,"line":100},{"line":103,"kind":12,"name":"has_field"},{"name":"oauth_user_email","kind":12,"line":103},{"name":"format","line":104,"kind":12},{"name":"default","line":105,"kind":12},{"line":108,"kind":12,"name":"has_field"},{"line":108,"kind":12,"name":"device_os"},{"kind":12,"line":109,"name":"required"},{"line":110,"kind":12,"name":"format"},{"line":111,"kind":12,"name":"ascii"},{"name":"has_field","line":114,"kind":12},{"name":"device_id","line":114,"kind":12},{"line":115,"kind":12,"name":"required"},{"line":116,"kind":12,"name":"format"},{"name":"ascii","line":117,"kind":12},{"name":"has_field","kind":12,"line":120},{"name":"device_token","line":120,"kind":12},{"name":"format","line":121,"kind":12},{"line":122,"kind":12,"name":"ascii"},{"kind":12,"line":123,"name":"default"},{"line":126,"kind":12,"name":"has_field"},{"line":126,"kind":12,"name":"login"},{"name":"format","kind":12,"line":127},{"name":"min_size","kind":12,"line":128},{"line":129,"kind":12,"name":"max_size"},{"kind":12,"line":130,"name":"default"},{"kind":12,"line":133,"name":"has_field"},{"line":133,"kind":12,"name":"expire_time"},{"kind":12,"line":134,"name":"format"},{"name":"lazy","line":135,"kind":12},{"name":"default","line":136,"kind":12},{"kind":12,"line":136,"name":"MyDawn","containerName":"OAuth::Token::Config::expire_period"},{"name":"has_index","line":139,"kind":12},{"line":139,"kind":12,"name":"login_oauth_source_idx"},{"name":"fields","line":140,"kind":12},{"name":"selector","line":141,"kind":12},{"name":"uniq","kind":12,"line":142},{"name":"has_index_part","line":145,"kind":12},{"line":145,"kind":12,"name":"login_idx"},{"line":146,"kind":12,"name":"index"},{"line":147,"kind":12,"name":"selector"},{"name":"uniq","kind":12,"line":148},{"name":"has_index","line":151,"kind":12},{"name":"device_idx","line":151,"kind":12},{"line":152,"kind":12,"name":"fields"},{"kind":12,"line":153,"name":"selector"},{"name":"uniq","line":154,"kind":12},{"name":"has_index","kind":12,"line":157},{"line":157,"kind":12,"name":"oauth_user_id_oauth_source_idx"},{"line":158,"kind":12,"name":"fields"},{"line":159,"kind":12,"name":"selector"},{"line":160,"kind":12,"name":"default_limit"},{"line":161,"kind":12,"name":"uniq"},{"line":164,"children":[{"defintion":"my","name":"$self","containerName":"insert","kind":13,"line":165},{"line":165,"kind":13,"containerName":"insert","name":"%params"},{"containerName":"insert","name":"$self","line":166,"kind":13},{"line":166,"kind":13,"containerName":"insert","name":"$params"},{"line":168,"kind":13,"containerName":"insert","name":"$result","defintion":"my"},{"name":"$oauth_login_sub","containerName":"insert","kind":13,"line":169,"defintion":"my"},{"kind":13,"line":170,"name":"$result","containerName":"insert"},{"line":170,"kind":13,"containerName":"insert","name":"$oauth_login_sub"},{"name":"$self","containerName":"insert","kind":13,"line":170},{"name":"%params","containerName":"insert","kind":13,"line":170},{"kind":13,"line":170,"name":"$oauth_login_sub","containerName":"insert"},{"kind":13,"line":171,"name":"$result","containerName":"insert"},{"kind":13,"line":172,"name":"$result","containerName":"insert"},{"kind":13,"line":172,"name":"$result","containerName":"insert"},{"kind":13,"line":172,"name":"$result","containerName":"insert"},{"line":174,"kind":13,"containerName":"insert","name":"$self"},{"line":183,"kind":13,"containerName":"insert","name":"$result"}],"containerName":"MyDawn::OAuth::Token","name":"insert","kind":12,"defintion":"sub"},{"line":166,"kind":12,"containerName":"insert","name":"SUPER"},{"line":166,"kind":12,"name":"force"},{"name":"actor_status","kind":12,"line":168},{"containerName":"OAuth::Const::REG_STATUS","name":"MyDawn","line":168,"kind":12},{"kind":12,"line":169,"name":"MyDawn","containerName":"OAuth::Token::Config"},{"kind":12,"line":169,"name":"ext_oauth_login","containerName":"MyDawn::OAuth::Token"},{"name":"log_dbg3","line":171,"kind":12},{"name":"error","line":172,"kind":12},{"name":"error_description","line":172,"kind":12},{"name":"SUPER","containerName":"insert","kind":12,"line":174},{"kind":12,"line":177,"name":"log_error"},{"kind":12,"line":178,"name":"error"},{"name":"link","containerName":"MyDawn::OAuth::Token","children":[{"defintion":"my","containerName":"link","name":"$self","line":188,"kind":13},{"name":"$curr_token","containerName":"link","kind":13,"line":188},{"defintion":"my","kind":13,"line":189,"name":"$result","containerName":"link"},{"kind":13,"line":190,"name":"$oauth_login_sub","containerName":"link","defintion":"my"},{"line":191,"kind":13,"containerName":"link","name":"$result"},{"containerName":"link","name":"$oauth_login_sub","line":191,"kind":13},{"line":191,"kind":13,"containerName":"link","name":"$self"},{"kind":13,"line":191,"name":"$curr_token","containerName":"link"},{"line":191,"kind":13,"containerName":"link","name":"$oauth_login_sub"},{"line":192,"kind":13,"containerName":"link","name":"$result"},{"kind":13,"line":193,"name":"$result","containerName":"link"},{"name":"$result","containerName":"link","kind":13,"line":193},{"containerName":"link","name":"$self","line":195,"kind":13},{"containerName":"link","name":"$result","line":204,"kind":13}],"line":187,"defintion":"sub","kind":12},{"line":189,"kind":12,"name":"actor_status"},{"containerName":"OAuth::Const::LINK_STATUS","name":"MyDawn","line":189,"kind":12},{"line":190,"kind":12,"containerName":"OAuth::Token::Config","name":"MyDawn"},{"containerName":"MyDawn::OAuth::Token","name":"ext_oauth_login","line":190,"kind":12},{"line":191,"kind":12,"name":"current_token"},{"name":"log_dbg3","kind":12,"line":192},{"name":"relogin","kind":12,"line":193},{"name":"SUPER","containerName":"insert","kind":12,"line":195},{"line":198,"kind":12,"name":"log_error"},{"kind":12,"line":199,"name":"error"},{"kind":12,"defintion":"sub","line":207,"children":[{"defintion":"my","kind":13,"line":208,"name":"$ret","containerName":"expires_in"},{"kind":13,"line":209,"name":"$ret","containerName":"expires_in"},{"name":"$ret","containerName":"expires_in","kind":13,"line":209}],"name":"expires_in","containerName":"MyDawn::OAuth::Token"},{"kind":12,"line":208,"name":"expire_time","containerName":"MyDawn::OAuth::Token"},{"kind":12,"defintion":"sub","containerName":"MyDawn::OAuth::Token","name":"oauth_expires_in","children":[{"defintion":"my","kind":13,"line":213,"name":"$ret","containerName":"oauth_expires_in"},{"line":214,"kind":13,"containerName":"oauth_expires_in","name":"$ret"},{"name":"$ret","containerName":"oauth_expires_in","kind":13,"line":214}],"line":212},{"containerName":"MyDawn::OAuth::Token","name":"oauth_expire_time","line":213,"kind":12},{"defintion":"sub","kind":12,"children":[{"defintion":"my","name":"$self","containerName":"generate_token","kind":13,"line":218},{"name":"$type","containerName":"generate_token","kind":13,"line":218},{"defintion":"my","name":"$token","containerName":"generate_token","kind":13,"line":220},{"line":221,"kind":13,"containerName":"generate_token","name":"$max_ret","defintion":"my"},{"defintion":"my","containerName":"generate_token","name":"$check_method","line":222,"kind":13},{"containerName":"generate_token","name":"$type","line":222,"kind":13},{"line":225,"kind":13,"containerName":"generate_token","name":"$token"},{"name":"$max_ret","containerName":"generate_token","kind":13,"line":226},{"kind":13,"line":227,"name":"$self","containerName":"generate_token"},{"containerName":"generate_token","name":"$check_method","line":227,"kind":13},{"containerName":"generate_token","name":"$token","line":227,"kind":13},{"line":227,"kind":13,"containerName":"generate_token","name":"$max_ret"},{"kind":13,"line":229,"name":"$max_ret","containerName":"generate_token"},{"line":230,"kind":13,"containerName":"generate_token","name":"$token"}],"line":217,"name":"generate_token","containerName":"MyDawn::OAuth::Token"},{"line":225,"kind":12,"name":"irand"},{"defintion":"sub","kind":12,"line":233,"children":[{"name":"$self","containerName":"refresh_social_token","kind":13,"line":234,"defintion":"my"},{"kind":13,"line":235,"name":"$self","containerName":"refresh_social_token"},{"line":236,"kind":13,"containerName":"refresh_social_token","name":"$self"},{"containerName":"refresh_social_token","name":"$module","line":240,"kind":13,"defintion":"my"},{"kind":13,"line":240,"name":"$self","containerName":"refresh_social_token"},{"kind":13,"line":241,"name":"$auth_info","containerName":"refresh_social_token","defintion":"my"},{"containerName":"refresh_social_token","name":"$module","line":241,"kind":13},{"name":"$self","containerName":"refresh_social_token","kind":13,"line":241},{"containerName":"refresh_social_token","name":"$auth_info","line":242,"kind":13},{"kind":13,"line":243,"name":"$auth_info","containerName":"refresh_social_token"},{"kind":13,"line":246,"name":"$self","containerName":"refresh_social_token"},{"line":246,"kind":13,"containerName":"refresh_social_token","name":"$auth_info"},{"containerName":"refresh_social_token","name":"$self","line":247,"kind":13},{"kind":13,"line":247,"name":"$auth_info","containerName":"refresh_social_token"},{"kind":13,"line":248,"name":"$self","containerName":"refresh_social_token"},{"kind":13,"line":248,"name":"$auth_info","containerName":"refresh_social_token"},{"name":"$self","containerName":"refresh_social_token","kind":13,"line":249},{"line":250,"kind":13,"containerName":"refresh_social_token","name":"$self"}],"containerName":"MyDawn::OAuth::Token","name":"refresh_social_token"},{"kind":12,"line":235,"name":"oauth_refresh_token","containerName":"MyDawn::OAuth::Token"},{"kind":12,"line":236,"name":"log_warn"},{"name":"oauth_source","containerName":"MyDawn::OAuth::Token","kind":12,"line":236},{"kind":12,"line":239,"name":"Mouse","containerName":"Util::load_class"},{"name":"MyDawn","containerName":"OAuth::Social","kind":12,"line":240},{"containerName":"MyDawn::OAuth::Token","name":"instance","line":240,"kind":12},{"containerName":"MyDawn::OAuth::Token","name":"registered_modules","line":240,"kind":12},{"containerName":"MyDawn::OAuth::Token","name":"oauth_source","line":240,"kind":12},{"kind":12,"line":241,"name":"get_auth_info","containerName":"MyDawn::OAuth::Token"},{"line":241,"kind":12,"name":"refresh_token"},{"line":241,"kind":12,"containerName":"MyDawn::OAuth::Token","name":"oauth_refresh_token"},{"line":242,"kind":12,"name":"error"},{"line":243,"kind":12,"name":"log_warn"},{"line":246,"kind":12,"containerName":"MyDawn::OAuth::Token","name":"oauth_access_token"},{"name":"access_token","kind":12,"line":246},{"line":247,"kind":12,"containerName":"MyDawn::OAuth::Token","name":"oauth_refresh_token"},{"kind":12,"line":247,"name":"refresh_token"},{"kind":12,"line":248,"name":"oauth_expire_time","containerName":"MyDawn::OAuth::Token"},{"line":248,"kind":12,"name":"expires_in"},{"line":249,"kind":12,"containerName":"MyDawn::OAuth::Token","name":"expire_time"},{"name":"MyDawn","containerName":"OAuth::Token::Config::expire_period","kind":12,"line":249},{"name":"update","containerName":"MyDawn::OAuth::Token","kind":12,"line":250},{"kind":12,"defintion":"sub","containerName":"MyDawn::OAuth::Token","name":"created_at","children":[],"line":256},{"containerName":"MyDawn::OAuth::Token","name":"expire_time","line":257,"kind":12},{"kind":12,"line":257,"name":"MyDawn","containerName":"OAuth::Token::Config::expire_period"},{"defintion":"sub","kind":12,"children":[],"line":260,"name":"type","containerName":"MyDawn::OAuth::Token"},{"kind":12,"line":262,"name":"MR","containerName":"ActiveRecord::Octopus"},{"line":263,"kind":12,"containerName":"MyDawn::OAuth::Token","name":"meta"},{"name":"make_immutable","containerName":"MyDawn::OAuth::Token","kind":12,"line":263}]